DROP TABLE books;
DROP TABLE members;
DROP TABLE borrowings;
--------------------------------------------------------------------------------
ALTER SESSION SET NLS_DATE_FORMAT='DD-MM-YYYY';
--------------------------------------------------------------------------------

CREATE TABLE books ( 
    title VARCHAR2(50) UNIQUE, 
    writer VARCHAR2(50), 
    isbn NUMBER(5) UNIQUE, 
    category VARCHAR2(50) 
);

CREATE TABLE members (
    id NUMBER(5) UNIQUE,
    fname VARCHAR2(20),
    lname VARCHAR(20),
    address VARCHAR2(50)
);

CREATE TABLE borrowings (
    title VARCHAR2(50) UNIQUE,
    isbn NUMBER(5) UNIQUE,
    borrower_id NUMBER(5),
    day DATE
);


INSERT INTO books VALUES ('O KATADIKOS', 'APOSTOLOS TZITZIKIS', 12345, 'KOINWNIKA' );
INSERT INTO books VALUES ('O ELEFTHEROS', 'NIKOS MUGAS', 23456, 'KOINWNIKA');
INSERT INTO books VALUES ('SUNTAGES TOU PASXA', 'AKHS PETRETZIKHS', 34567, 'MAGEIRIKH');
INSERT INTO books VALUES ('SUNTAGES TWN XRISTOYGENNWN', 'ARGYRW MPARMPARIGOU', 45678, 'MAGEIRIKH');
INSERT INTO books VALUES ('TAKTIKES EPITHESHS', 'ERNESTO VALVERDE', 56789, 'ATHLITIKA');
INSERT INTO books VALUES ('H TEXNH THS AMUNAS', 'DUSAN IVKOVIC', 67890, 'ATHLITIKA');
INSERT INTO books VALUES ('TO APERANTO SUMPAN', 'STEPHEN HAWKING', 78901, 'EPISTHMONIKA');
INSERT INTO books VALUES ('MAURES TRUPES', 'STEPHEN HAWKING', 89012, 'EPISTHMONIKA');
INSERT INTO books VALUES ('H AXIA TOY JOGGING', 'GIANNHS DROMEAS', 90123, 'IATRIKA');
INSERT INTO books VALUES ('FATE FROUTA', 'XRISTINA  AKRIDA', 11234, 'IATRIKA');

INSERT INTO members VALUES (12345, 'KWSTAS', 'FORTOUNIS', 'NIKHS 5');
INSERT INTO members VALUES (23456, 'SWRATHS', 'PAPASTATHOPOULOS', 'ANDROMEDAS 11');
INSERT INTO members VALUES (34567, 'GIWRGOS', 'MASOURAS', 'KUPROU 72');
INSERT INTO members VALUES (45678, 'KWSTAS', 'TZOLAKIS', 'ERMOU 77');
INSERT INTO members VALUES (56789, 'ANDREAS', 'BOUCHALAKHS', 'AIOLOU 54');
INSERT INTO members VALUES (67890, 'ALEXANDROS', 'PASCHALAKHS', 'AKADHMIAS 99');
INSERT INTO members VALUES (78901, 'THANASHS', 'ANDROUTSOS', 'STADIOU 167');
INSERT INTO members VALUES (89012, 'PANAGIOTIS', 'RETSOS', 'SOLONOS 34');
INSERT INTO members VALUES (90123, 'MARIOS', 'VROUSAI', 'PANEPISTHMIOU 23');
INSERT INTO members VALUES (11234, 'KWSTAS', 'MITROGLOU', 'VENIZELOU 67');

INSERT INTO borrowings VALUES ('O KATADIKOS', 12345, 12345, '10-01-2023');
INSERT INTO borrowings VALUES ('O ELEFTHEROS', 23456, 56789, '03-01-2023');
INSERT INTO borrowings VALUES ('SUNTAGES TOU PASXA', 34567, 90123, '15-01-2023');
INSERT INTO borrowings VALUES ('H TEXNH THS AMUNAS', 67890, 34567, '12-01-2023');
INSERT INTO borrowings VALUES ('MAURES TRUPES', 89012, 23456, '16-01-2023');

SELECT * FROM books;
SELECT * FROM members;
SELECT * FROM borrowings;

--ESTW OTI TO BIBLIO PREPEI NA EINAI DANEISMENO TO POLY 7 MERES.
--KATHE MELOS GIA NA DANEISTEI ENA BIBLIO DEN PREPEI NA TREXEI KANENAS DANEISMOS APO ALLO BIBLIO, DLD KATHE MELOS EXEI TO POLU ENA BIBLIO STHN KATOXH TOU.
--DEN YPARXEI PLHRWMH AN O DANEISMOS GIA KATHE BIBLIO DEN XEPERNAEI TIS 7 HMERES AFOU TA MELH THS BIBLIOTHKHS PLHRWNOUN ETHSIA SUNDROMH.
--TO PROSTIMO GIA KATHE MERA KATHYSTERHSHS EIANI 2$.
--TA ARXEIA NA EKTELESTOUN ME TH SEIRA:
--1)library_schema.sql
--2)functions.sql
--3)procedures.sql
--4)packages.sql
--------------------------------------------------------------------------------
